# n8n

## ðŸš€ Â¿QuÃ© es n8n?

n8n significa **"nodemation"** (_Node Automation_).  
Es una **plataforma open-source de automatizaciÃ³n de flujos de trabajo** (_workflow automation_) que combina lo mejor del mundo **low-code/no-code** con la flexibilidad de extender funcionalidades usando cÃ³digo.

---

### âœ¨ CaracterÃ­sticas principales

- ðŸ”— **ConexiÃ³n de APIs, BBDD y SaaS** con mÃ¡s de **350 integraciones listas para usar**.
- ðŸ–¥ï¸ **Flexible en su despliegue**: funciona en la nube o **self-hosted** en tu propia infraestructura.
- ðŸŽ¨ **Editor visual de workflows** con sistema _drag & drop_.
- â±ï¸ EjecuciÃ³n **basada en eventos, webhooks o programada**.
- ðŸ§‘â€ðŸ’» Extensible con **JavaScript** para crear nodos personalizados.
- ðŸ”’ **Privacidad y control total de datos** al poder auto-hospedarse.
- ðŸŒ **Comunidad activa** y en crecimiento constante.

---

### ðŸ—ï¸ Arquitectura simplificada

Los **workflows** en n8n estÃ¡n formados por **nodos**:

- ðŸ“¥ **Nodos de entrada**: reciben datos (por ejemplo, un email entrante).
- âš™ï¸ **Nodos de transformaciÃ³n**: procesan los datos (ejemplo: convertir texto a JSON).
- ðŸ“¤ **Nodos de salida**: envÃ­an datos a otro servicio (ejemplo: publicar en Twitter o guardar en una base de datos).

Cada nodo puede ser configurado visualmente y encadenado con otros para formar un **pipeline de automatizaciÃ³n**.

---

### ðŸŒŸ Â¿Por quÃ© es tan popular?

- âœ… CÃ³digo abierto y gratuito para empezar.
- ðŸ”„ Flexibilidad y escalabilidad.
- ðŸ§© Extensible con nodos personalizados.
- ðŸ‘¥ Gran comunidad que comparte flujos y plantillas.

---

### ðŸ“Š Comparativa con otras herramientas

| CaracterÃ­stica        | n8n          | Zapier âŒ | Make (Integromat) âŒ |
| --------------------- | ------------ | --------- | -------------------- |
| CÃ³digo abierto        | âœ…           | âŒ        | âŒ                   |
| Self-hosting          | âœ…           | âŒ        | âŒ                   |
| Nodos personalizables | âœ…           | âŒ        | Limitado             |
| LÃ­mite de tareas      | Ilimitado    | Limitado  | Limitado             |
| Precio                | Desde gratis | ðŸ’²        | ðŸ’²                   |

---

### ðŸ’¡ Casos de uso

- **Marketing** â†’ Publicar en redes sociales desde Google Sheets.
- **AtenciÃ³n al cliente** â†’ Crear tickets en un CRM al recibir un email.
- **EducaciÃ³n** â†’ Procesar respuestas de formularios automÃ¡ticamente.
- **Desarrollo** â†’ Ejecutar funciones, Webhooks y APIs, integrando microservicios y automatizando procesos de backend.

---

### ðŸ“¥ Recursos adicionales

- ðŸŒ MÃ¡s de **4500 plantillas listas para usar**: [n8n.io/workflows](https://n8n.io/workflows/)
- ðŸ“– DocumentaciÃ³n oficial: [docs.n8n.io](https://docs.n8n.io)
- ðŸ§‘â€ðŸ¤â€ðŸ§‘ Comunidad: [community.n8n.io](https://community.n8n.io)

---

### ðŸ¢ Beneficios para empresas y equipos

- â³ Ahorro de tiempo en tareas repetitivas.
- ðŸ›¡ï¸ Menos errores humanos en procesos crÃ­ticos.
- âš¡ IntegraciÃ³n rÃ¡pida con sistemas ya existentes.
- ðŸ¤ Mejora en productividad y colaboraciÃ³n.
- ðŸ’° ReducciÃ³n de costos frente a soluciones SaaS cerradas como Zapier.

---

### âœ… Buenas prÃ¡cticas recomendadas

1. ðŸ“‚ Versionar workflows en repositorios Git para mantener historial.
2. ðŸ”‘ Usar variables de entorno para credenciales y endpoints.
3. ðŸ§ª Probar workflows en entornos de staging antes de producciÃ³n.
4. ðŸ“Š Monitorizar ejecuciones y configurar alertas.
5. ðŸ”„ Reutilizar nodos y plantillas para mantener consistencia.

---

### ðŸ” Â¿CuÃ¡ndo elegir n8n?

Elige n8n si:

- Necesitas **control total de los datos** (self-hosting).
- Buscas una soluciÃ³n **mÃ¡s econÃ³mica** que Zapier o Make.
- Requieres **extensibilidad** con cÃ³digo personalizado.
- Quieres aprovechar la **comunidad open-source** y sus plantillas.

No es ideal si:

- ðŸš« Prefieres no administrar infraestructura propia.
- ðŸš« Solo necesitas flujos simples y no buscas extensibilidad.

---

## ðŸ¤” Â¿QuÃ© puedo hacer con n8n?

n8n permite automatizar tareas de todo tipo, desde las mÃ¡s simples hasta flujos complejos que integran mÃºltiples aplicaciones. Algunos ejemplos:

### ðŸ“§ Productividad y comunicaciÃ³n

- Organizar automÃ¡ticamente la **bandeja de entrada** de un correo electrÃ³nico (clasificando entre crÃ­ticos, urgentes o irrelevantes).
- Enviar recordatorios o notificaciones personalizadas segÃºn reglas definidas.
- Gestionar citas en Google Calendar a partir de un **chat o conversaciÃ³n previa**.

### ðŸ—„ï¸ Datos y bases de datos

- Usar un **agente de IA** para realizar actualizaciones controladas en una base de datos.
- Integrar APIs y almacenar resultados en **Google Sheets, Postgres, MongoDB**, entre otros.
- Ejecutar consultas y generar reportes de forma periÃ³dica.

### ðŸ“Š Reportes y mÃ©tricas

- Cada semana, recopilar informaciÃ³n estadÃ­stica, calcular mÃ©tricas, generar un reporte en Google Sheets y enviarlo automÃ¡ticamente por correo.

### ðŸ‘©â€ðŸ’¼ Procesos de negocio

- Automatizar series de pasos en **flujos de documentaciÃ³n de clientes** (validaciÃ³n, almacenamiento y notificaciÃ³n).
- Integrar con CRMs para crear tickets, actualizar registros o dar seguimiento a leads.

### ðŸŽ¥ Marketing y contenido digital

- Crear **videos automatizados sin rostro**, aÃ±adir audio y generar miniaturas atractivas para redes sociales.
- Publicar contenido en redes sociales directamente desde un Google Sheet o CMS.

---

ðŸ‘‰ En resumen, con n8n puedes pasar de tareas manuales repetitivas a **flujos inteligentes y automatizados**, que ahorran tiempo y reducen errores humanos.

---

## ðŸ†• Crear una cuenta en n8n y usar la prueba gratuita

Para comenzar a usar n8n en la nube puedes registrarte fÃ¡cilmente en su plataforma oficial:

### ðŸ”¹ Pasos para registrarse

1. Accede a la pÃ¡gina oficial ðŸ‘‰ [n8n.io](https://n8n.io/).
2. Haz clic en **Sign up / Get Started for Free**.
3. Completa el formulario de registro con:
   - **Nombre y correo electrÃ³nico**.
   - **ContraseÃ±a segura**.
4. Confirma tu correo electrÃ³nico desde el enlace que recibirÃ¡s.
5. Una vez validado, podrÃ¡s acceder al **dashboard de n8n** y comenzar tu prueba gratuita.

### ðŸ“¸ Ejemplo de registro

Pantalla inicial para crear cuenta en n8n:  
![](./assets/n8n/01-crear-cuenta.PNG)

Formulario de registro de usuario:  
![](./assets/n8n/02-registro-cuenta.PNG)

---

### ðŸŽ Prueba gratuita

- Incluye acceso completo a la **versiÃ³n cloud** de n8n.
- Permite explorar integraciones, crear workflows y probar nodos sin instalar nada en tu mÃ¡quina.
- Ideal para **principiantes** que quieren conocer la herramienta antes de instalarla localmente.

---

ðŸ‘‰ Una vez familiarizado con la plataforma, puedes optar por:

- Seguir usando la **versiÃ³n cloud** (plan gratuito o de pago).
- Migrar a un entorno **self-hosted** para mayor control y privacidad.

---

## ðŸ’» Ejecutar n8n localmente mediante NPX

Si deseas probar **n8n en tu mÃ¡quina local**, puedes hacerlo fÃ¡cilmente desde **npm** sin necesidad de instalaciÃ³n global.

### ðŸ”¹ Requisitos previos

1. Tener instalado **Node.js v20** (recomendado por compatibilidad actual).

   - Verifica la versiÃ³n con:
     ```bash
     node --version
     ```
   - Si no tienes Node.js 20, puedes instalarlo usando **nvm**:
     ```bash
     nvm install 20
     ```
     > ðŸ“Œ Nota: asegÃºrate de tener instalado previamente [nvm](https://github.com/nvm-sh/nvm).

2. Contar con **npm** o **npx** (incluidos al instalar Node.js).

---

### ðŸ”¹ InstalaciÃ³n y ejecuciÃ³n

1. Ejecuta el siguiente comando en la terminal:

   ```bash
   npx n8n
   ```

   > > - Esto descargarÃ¡ e instalarÃ¡ todas las dependencias necesarias.
   > > - âš ï¸ La primera ejecuciÃ³n puede tardar varios minutos (en pruebas, ~22 minutos).

2. Una vez instalado, n8n se levantarÃ¡ automÃ¡ticamente en: ðŸ‘‰ http://localhost:5678

### ðŸ”¹ Primer acceso

> - Abre la URL en tu navegador.
> - Completa el formulario inicial de configuraciÃ³n (nombre, email y contraseÃ±a).
> - No es necesario solicitar una `API key` para comenzar a usarlo.

ðŸ“¸ Ejemplo del dashboard inicial de n8n:

![](./assets/n8n/03-n8n-dashboard.PNG)

### âœ… Ventajas de usar NPX

> - No requiere instalaciÃ³n global (ideal para pruebas rÃ¡pidas).
> - Siempre descarga la versiÃ³n mÃ¡s reciente.
> - Permite levantar un entorno local de forma sencilla.

ðŸ’¡ Si planeas usar n8n en proyectos recurrentes, puedes instalarlo globalmente con:

```bash
npm install -g n8n
```

---

## ðŸ³ Ejecutar n8n localmente mediante Docker

Otra forma prÃ¡ctica de usar n8n en tu mÃ¡quina es mediante **Docker**, lo que facilita la instalaciÃ³n y el aislamiento del entorno.

---

### ðŸ”¹ Requisitos previos

1. Tener instalado **Docker Desktop** (Windows/Mac) o **Docker Engine** (Linux).
2. Verificar que Docker se estÃ© ejecutando:
   ```bash
   docker --version
   ```

### ðŸ”¹ Pasos de instalaciÃ³n con Docker

1. Crear un volumen para persistencia de datos

Esto garantiza que tu informaciÃ³n no se pierda al reiniciar el contenedor:

```bash
docker volume create n8n_data
```

2. Ejecutar el contenedor de n8n

```bash
docker run -it --rm --name n8n -p 5678:5678 -v n8n_data:/home/node/.n8n docker.n8n.io/n8nio/n8n
```

ðŸ“Œ ExplicaciÃ³n de parÃ¡metros:

> - `-it --rm` â†’ ejecuta en modo interactivo y elimina el contenedor al detenerlo.
> - `--name n8n` â†’ asigna un nombre al contenedor.
> - `-p 5678:5678` â†’ expone el puerto 5678 en tu mÃ¡quina local.
> - `-v n8n_data:/home/node/.n8n` â†’ monta el volumen creado para persistencia de configuraciones y workflows.
> - `docker.n8n.io/n8nio/n8n` â†’ imagen oficial de n8n.

```txt
+--------------------+
|   Contenedor n8n   |   puerto 5678 â†’ navegador (localhost:5678)
|                    |
|  /home/node/.n8n   | â† volumen persistente (n8n_data)
|   - database.sqlite|
|   - config/        |
+--------------------+

Volumen: n8n_data (permanece aunque el contenedor muera)

```

### ðŸ”¹ Acceso a la interfaz

Una vez que el contenedor estÃ© en ejecuciÃ³n, abre en tu navegador: ðŸ‘‰ http://localhost:5678

---

### ðŸ“¸ Ejemplos en Docker Desktop

> - Imagen de n8n descargada:
>   ![](./assets/n8n/04-n8n-docker-image.PNG)

> - Contenedor en ejecuciÃ³n:
>   ![](./assets/n8n/05-n8n-docker-container.PNG)

---

## ðŸ› ï¸ Ejemplo: Configurar ambiente local

Esta guÃ­a muestra cÃ³mo configurar un proyecto local de **n8n** usando Node.js y un archivo `.env` para centralizar configuraciones.

---

### ðŸ”¹ 1. Iniciar proyecto

Dentro de tu directorio de trabajo:

```bash
npm init -y
```

Instala una versiÃ³n estable conocida de n8n (ejemplo: 1.113.3):

```bash
npm i n8n@1.113.3
```

---

### ðŸ”¹ 2. Configurar archivo .env

Crea un archivo `.env` en la raÃ­z del proyecto con el siguiente contenido:

```bash
# ===========================
# ðŸ“Œ CONFIGURACIÃ“N DE n8n (.env)
# ===========================

# --- Access / URLs ---
# N8N_HOST define la interfaz/red en la que n8n escucha.
# - localhost â†’ solo accesible desde tu mÃ¡quina
# - 0.0.0.0  â†’ escucha en todas las interfaces (tÃ­pico en Docker o servidor)
# - IP local (ej: 192.168.1.50) â†’ accesible desde tu red LAN
# - dominio (ej: midominio.com) â†’ en producciÃ³n accesible desde Internet
N8N_HOST=localhost

# Puerto en el que corre n8n internamente
# (debes poner el mismo puerto tambiÃ©n en la URL de N8N_EDITOR_BASE_URL si no es 80/443)
N8N_PORT=5680

# Protocolo a usar por el servidor de n8n
# http  â†’ desarrollo/local
# https â†’ requiere certificados vÃ¡lidos (N8N_SSL_CERT y N8N_SSL_KEY) o un proxy inverso
N8N_PROTOCOL=http

# URL pÃºblica que n8n usarÃ¡ para generar enlaces, callbacks de OAuth, webhooks, etc.
# ðŸ‘‰ Siempre debe llevar el protocolo (http/https) y el puerto si no es 80 o 443
N8N_EDITOR_BASE_URL=http://localhost:5680

# --- Security ---
# Clave usada SOLO para cifrar credenciales almacenadas en la base de datos.
# âŒ No es API key de n8n cloud ni token de servicios externos.
# âœ… Debe ser larga y aleatoria (mÃ­nimo 32 bytes en HEX).
# Si la pierdes o la cambias, las credenciales previas ya no podrÃ¡n descifrarse.
# Generar con:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
N8N_ENCRYPTION_KEY=REEMPLAZA_CON_TU_CLAVE_HEX

# --- Ejecutions & Logs ---
# EXECUTIONS_DATA_PRUNE=true â†’ activa limpieza automÃ¡tica de ejecuciones viejas.
# EXECUTIONS_DATA_MAX_AGE=336 â†’ retenciÃ³n en horas (ej. 336h = 14 dÃ­as).
# Estos datos (historial de workflows) se guardan en la base (SQLite por defecto).
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=336

```

ðŸ“Œ Genera una clave segura con (powershell):

```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

---

### ðŸ”¹ 3. Instalar dotenv-cli

Permite cargar el `.env` automÃ¡ticamente:

```bash
npm i -D dotenv-cli
```

Agrega en `package.json` el script de inicio:

```bash
"scripts": {
  "start": "dotenv -e .env -- n8n"
}
```

### ðŸ”¹ 4. Ejecutar n8n

Inicia el servidor local:

```bash
npm run start
```

> - Accede a ðŸ‘‰ http://localhost:5680
> - Completa el setup inicial.
> - âš ï¸ Si configuras `N8N_ENCRYPTION_KEY`, elimina la carpeta previa de `config`:
>   > - Windows: `C:\Users\Developer\.n8n\`
>   > - Linux/Mac: `~/.n8n/`

---

### ðŸ”¹ 5. Exportar y restaurar workflows

> - **Exportar todos los workflows:**

```bash
npx n8n export:workflow --all --output=backup-workflows.json

```

> - **Importar desde un backup:**

```bash
npx n8n import:workflow --input=backup-workflows.json
```

---

### ðŸ”¹ 6. Scripts Ãºtiles (package.json)

Crea un directorio` backup/` y aÃ±ade scripts prÃ¡cticos:

```json
"scripts": {
  "start": "dotenv -e .env -- n8n",
  // Levanta n8n con variables de .env

  "n8n:export": "n8n export:workflow --all --output=backup/workflows-backup.json",
  // Exporta TODOS los workflows a backup/workflows-backup.json

  "n8n:import": "n8n import:workflow --input=backup/workflows-backup.json",
  // Importa workflows desde backup/workflows-backup.json

  "n8n:backup": "npm run n8n:export",
  // Alias rÃ¡pido â†’ genera backup

  "n8n:reset": "powershell Remove-Item -Recurse -Force $env:USERPROFILE\\.n8n"
  // âš ï¸ Elimina config, DB y credenciales (reset total)
}

```

### ðŸ”¹ 7. Usar los scripts

> - **Respaldar workflows:**

```bash
npm run n8n:backup
```

> - **Restaurar workflows:**

```bash
npm run n8n:import
```

> - **Resetear n8n (limpiar todo):**

```bash
npm run n8n:reset
```

---

## ðŸ› ï¸ Ejemplo: Crear contenedor n8n

Con **Docker Compose** puedes levantar n8n de forma sencilla, manteniendo las configuraciones centralizadas en un `.env` y con persistencia de datos.

### ðŸ”¹ 1. Crear archivo `docker-compose.yml`

```yaml
version: "3.8"

services:
  n8n:
    image: docker.n8n.io/n8nio/n8n:latest
    container_name: n8n
    # Lee variables desde tu .env (en la misma carpeta del compose)
    env_file:
      - .env
    environment:
      # AsegÃºrate de definir estos en .env tambiÃ©n
      - N8N_HOST=${N8N_HOST}
      - N8N_PORT=${N8N_PORT}
      - N8N_PROTOCOL=${N8N_PROTOCOL}
      - N8N_EDITOR_BASE_URL=${N8N_EDITOR_BASE_URL}
      - N8N_ENCRYPTION_KEY=${N8N_ENCRYPTION_KEY}
      # Opcionales
      - EXECUTIONS_DATA_PRUNE=${EXECUTIONS_DATA_PRUNE}
      - EXECUTIONS_DATA_MAX_AGE=${EXECUTIONS_DATA_MAX_AGE}
    ports:
      - "${N8N_PORT}:${N8N_PORT}"
    volumes:
      # Persistencia de datos de n8n (SQLite, credenciales, config)
      - n8n_data:/home/node/.n8n
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "require('http').get(process.env.N8N_PROTOCOL+'://localhost:'+process.env.N8N_PORT, r=>process.exit(r.statusCode===200?0:1)).on('error', ()=>process.exit(1))",
        ]
      interval: 20s
      timeout: 5s
      retries: 5
      start_period: 20s

volumes:
  n8n_data:
    name: n8n_data
```

### ðŸ”¹ 2. Comandos bÃ¡sicos

**Levantar en segundo plano**

```bash
docker compose up -d
```

**Ver logs en vivo**

```bash
docker compose logs -f
```

**Detener sin borrar datos**

```bash
docker compose stop
```

**Apagar y borrar solo contenedor (datos persisten en el volumen)**

```bash
docker compose down
```

**âš ï¸Borrar TODO (incluye el volumen, Â¡perderÃ¡s datos!)**

```bash
docker compose down -v
```

âœ… Buenas prÃ¡cticas

> - Usa un archivo .env para centralizar variables de entorno.
> - No expongas credenciales en `docker-compose.yml`.
> - MantÃ©n tu volumen n8n_data respaldado periÃ³dicamente.
> - Para entornos productivos, combina con reverse proxy (Nginx, Traefik) para habilitar HTTPS.

---

[INICIO](./README.md) || [ANTERIOR](./README.md) || [SIGUIENTE](./)
